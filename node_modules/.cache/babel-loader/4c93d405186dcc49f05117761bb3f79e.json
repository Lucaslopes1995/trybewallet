{"ast":null,"code":"// Coloque aqui suas actionss\nexport const SEND_USER_DATA = 'sendUserData';\nexport const FETCH_CURRENCIES_SUCCESS = 'FETCH_CURRENCIES_SUCCESS';\nexport const FETCH_CURRENCIES_FAIL = 'FETCH_CURRENCIES_FAIL';\nexport const ADDSPENT = 'add_spent';\nexport const DELETEELDESPESA = 'deleteElDespesa';\n\nconst sucessFetch = function (currencies) {\n  let cotacao = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  let valor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  return {\n    type: FETCH_CURRENCIES_SUCCESS,\n    payload: {\n      currencies,\n      cotacao,\n      valor\n    }\n  };\n};\n\nconst failFetch = error => ({\n  type: FETCH_CURRENCIES_SUCCESS,\n  payload: error\n});\n\nexport const addSpent = spent => ({\n  type: ADDSPENT,\n  payload: spent\n});\nexport const fetchCurrencies = function () {\n  let cotacao = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  let va = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return async dispatch => {\n    try {\n      console.log(cotacao);\n      const currencies = await fetch('https://economia.awesomeapi.com.br/json/all');\n      const re = await (currencies === null || currencies === void 0 ? void 0 : currencies.json());\n\n      if (re) {\n        delete re.USDT;\n        const response = Object.values(re).map(moeda => moeda.code); //   console.log(re);\n\n        const cotacao1 = cotacao ? re[cotacao] || 0 : 0;\n        const valor = va || 0;\n        dispatch(sucessFetch(response, cotacao1 === null || cotacao1 === void 0 ? void 0 : cotacao1.ask, valor)); // console.log(response);\n      }\n    } catch (error) {\n      dispatch(failFetch(error));\n      console.log(error);\n    }\n  };\n};\nexport const fetchSpent = spent => async dispatch => {\n  try {\n    const currencies = await fetch('https://economia.awesomeapi.com.br/json/all');\n    const re = await (currencies === null || currencies === void 0 ? void 0 : currencies.json());\n\n    if (re) {\n      delete re.USDT; //   console.log(re);\n\n      const cotacao = re[spent.currency].ask || 0;\n      console.log(re);\n      console.log(spent.currency);\n      console.log(cotacao);\n      const arrobj = {\n        cotacao,\n        data: { ...spent,\n          exchangeRates: re\n        }\n      };\n      dispatch(addSpent(arrobj)); // console.log(response);\n    }\n  } catch (error) {\n    dispatch(failFetch(error));\n    console.log(error);\n  }\n};\nexport const deleteElDespesa = (despesa, todasDespesas) => {\n  const a = todasDespesas.filter(desp => desp.id != despesa.id);\n  console.log(a);\n  return {\n    type: DELETEELDESPESA,\n    payload: {\n      despesa,\n      todasDespesas\n    }\n  };\n};\nexport const sendLogin = user => ({\n  type: SEND_USER_DATA,\n  payload: user\n});","map":{"version":3,"names":["SEND_USER_DATA","FETCH_CURRENCIES_SUCCESS","FETCH_CURRENCIES_FAIL","ADDSPENT","DELETEELDESPESA","sucessFetch","currencies","cotacao","valor","type","payload","failFetch","error","addSpent","spent","fetchCurrencies","va","dispatch","console","log","fetch","re","json","USDT","response","Object","values","map","moeda","code","cotacao1","ask","fetchSpent","currency","arrobj","data","exchangeRates","deleteElDespesa","despesa","todasDespesas","a","filter","desp","id","sendLogin","user"],"sources":["/home/lucas/Documentos/projetos/sd-021-b-project-trybewallet/src/actions/index.js"],"sourcesContent":["// Coloque aqui suas actionss\nexport const SEND_USER_DATA = 'sendUserData';\nexport const FETCH_CURRENCIES_SUCCESS = 'FETCH_CURRENCIES_SUCCESS';\nexport const FETCH_CURRENCIES_FAIL = 'FETCH_CURRENCIES_FAIL';\nexport const ADDSPENT = 'add_spent';\nexport const DELETEELDESPESA = 'deleteElDespesa';\n\nconst sucessFetch = (currencies, cotacao = 0, valor = 0) => ({\n  type: FETCH_CURRENCIES_SUCCESS,\n  payload: { currencies, cotacao, valor },\n});\n\nconst failFetch = (error) => ({\n  type: FETCH_CURRENCIES_SUCCESS,\n  payload: error,\n});\n\nexport const addSpent = (spent) => ({\n  type: ADDSPENT,\n  payload: spent,\n});\n\nexport const fetchCurrencies = (cotacao = '', va = 0) => async (dispatch) => {\n  try {\n    console.log(cotacao);\n    const currencies = await fetch('https://economia.awesomeapi.com.br/json/all');\n    const re = await currencies?.json();\n    if (re) {\n      delete re.USDT;\n      const response = Object.values(re).map((moeda) => moeda.code);\n      //   console.log(re);\n      const cotacao1 = cotacao ? re[cotacao] || 0 : 0;\n      const valor = va || 0;\n\n      dispatch(sucessFetch(response, cotacao1?.ask, valor));\n    // console.log(response);\n    }\n  } catch (error) {\n    dispatch(failFetch(error));\n    console.log(error);\n  }\n};\n\nexport const fetchSpent = (spent) => async (dispatch) => {\n  try {\n    const currencies = await fetch('https://economia.awesomeapi.com.br/json/all');\n    const re = await currencies?.json();\n    if (re) {\n      delete re.USDT;\n      //   console.log(re);\n      const cotacao = re[spent.currency].ask || 0;\n      console.log(re);\n      console.log(spent.currency);\n      console.log(cotacao);\n\n      const arrobj = {\n        cotacao,\n        data: { ...spent,\n          exchangeRates: re },\n      };\n\n      dispatch(addSpent(arrobj));\n    // console.log(response);\n    }\n  } catch (error) {\n    dispatch(failFetch(error));\n    console.log(error);\n  }\n};\n\nexport const deleteElDespesa = (despesa, todasDespesas) => {\n  const a = todasDespesas.filter((desp) => desp.id != despesa.id);\n  console.log(a);\n  return {\n    type: DELETEELDESPESA,\n    payload: { despesa, todasDespesas },\n  };\n};\n\nexport const sendLogin = (user) => ({\n  type: SEND_USER_DATA,\n  payload: user,\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}